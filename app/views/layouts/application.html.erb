<!DOCTYPE html>
<html>
  <head>
    <title>lendr</title>
    <%= csrf_meta_tags %>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <script src="//maps.google.com/maps/api/js?key=[your API key]"></script>
    <script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
    <script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->
    <link href="https://fonts.googleapis.com/css?family=Lato|Montserrat|Pavanam" rel="stylesheet">
  </head>

  <body>
    <nav class="navbar navbar-fixed-top <%= current_page?(root_path) ? "navbar-main" : "navbar-others" %>">
      <div class="navbar-header <%= current_page?(root_path) ? "header-main" : "header-others" %>">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <%= link_to 'l e n d r', root_path, class: 'navbar-brand' %></a>
      </div>

      <div id="navbar" class="navbar-collapse collapse">
        <div class="navbar-form navbar-right">
          <div class="nav-group">
            <% if user_signed_in? %>
              <%= link_to "Profile", user_path %>
            <% else %>
              <a type="button" data-toggle="modal" data-target="#myModal">Log In</a>
            <% end %>
          </div>
          <div class="nav-group">
            <% if user_signed_in? %>
              <%= link_to 'Log Out', destroy_user_session_path, method: :delete %>
            <% else %>
              <a type="button" data-toggle="modal" data-target="#signupModal">Sign Up</a>
            <% end %>
          </div>
        </div>
      </div><!--/.navbar-collapse -->
    </nav>

    <div class="body-content">
      <% if flash.any? %>
        <div class="container alert-container">
          <% flash.each do |key, value| %>
            <div class="alert alert-<%= key %>">
              <%= value %>
            </div>
          <% end %>
        </div>
      <% end %>

      <%= render :partial => 'items/signin_form' %>

      <div class='container'>
        <%= yield :top_content %>
      </div>

      <div class="container header-container">
        <h1><%= yield :header %></h1>
      </div>

      <%= yield %>

      <!--  Sign Up Modal -->
      <div class="modal fade" id="signupModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
          <div class="modal-content">

            <%= form_for(:user, :url => registration_path(:user)) do |f| %>
            <%= devise_error_messages! %>
              <div class="modal-header">
                <button type="button" class="close form-group row" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Sign Up</h4>
              </div>

              <div class="modal-body">

                <div class="form-group row">
                    <%= f.label :email, class:'col-sm-2 col-form-label'%>
                  <div class="col-sm-10">
                    <%= f.email_field :email, class: 'form-control',id: "inputEmail3", placeholder:"Email" %>
                  </div>
                </div>

                <div class="form-group row">
                    <%= f.label :first_name, class:'col-sm-2 col-form-label' %>
                <div class="col-sm-10">
                  <%= f.text_field :first_name, class: 'form-control',placeholder: 'John'%>
                </div>
              </div>

                <div class="form-group row">
                  <%= f.label :last_name, class:'col-sm-2 col-form-label' %>
                  <div class="col-sm-10">
                    <%= f.text_field :last_name, class: 'form-control',placeholder: 'Doe'%>
                  </div>
                </div>

                <div class="form-group row">
                  <%= f.label :address, class:'col-sm-2 col-form-label' %>
                  <div class="col-sm-10">
                    <%= f.text_field :address, class: 'form-control',placeholder: 'Street Address'%>
                  </div>
                </div>

                <div class="form-group row">
                  <%= f.label :city, class:'col-sm-2 col-form-label' %>
                  <div class="col-sm-10">
                    <%= f.text_field :city, class: 'form-control',placeholder: 'City'%>
                  </div>
                </div>

                <div class="form-group row">
                  <%= f.label :password, class:'col-sm-2 col-form-label' %>
                  <div class="col-sm-10">
                    <% if @minimum_password_length %>
                      <em>(<%= @minimum_password_length %> characters minimum)</em>
                    <% end %>
                    <%= f.password_field :password, autocomplete: "off",class: 'form-control',placeholder: 'Password' %>
                  </div>
                </div>

                <div class="form-group row">
                  <%= f.label :password_confirmation, class:'col-sm-2 col-form-label' %>
                  <div class="col-sm-10">
                    <%= f.password_field :password_confirmation, autocomplete: "off" , class: 'form-control',placeholder: 'Password'%>
                  </div>
                </div>
                <br/>

                <div class="modal-footer">
                  <%= f.submit "Sign Up", class: "btn btn-primary" %>
                  <div class = "forget-pw-button"></div>
                </div>

              <% end %>
            </div>
          </div>
        </div>
      </div>

  </body>
</html>
